<!DOCTYPE html>
<script src="https://d3js.org/d3.v7.min.js"></script>
<style>
#tooltip {
  opacity: 0;
  position: absolute;
  text-align: center;
  width: 50px;
  height: 50px;
  background: white;
  border: 2px;
}
</style>
<html>
<body>
  <p>hey</p>
  <svg class="chart" width="500" height="200">
  </svg>
  <button onclick="next()">Next</button>
  <div id="tooltip"></div>
  
  <script>
    
    var xScale = d3.scaleBand().domain(["A","B","C"]).range([0,150])
    var yScale = d3.scaleLinear().domain([0,100]).range([100,0])
    d3.select(".chart").append("g").attr("transform","translate("+50+","+50+")").selectAll("rect").data([20,30,70])
      .enter().append("rect").attr("width",50).attr("height",function(d){return d;}).attr("x",function(d,i){return 50*i;})
      .attr("y",function(d){return 100-d;}).attr("fill","red")
      .on("mouseover",function(d){
        d3.select("#tooltip").style("opacity",1)
          .style("left",(d3.event.pageX)+"px")
          .style("top",(d3.event.pageY)+"px")
          .html("Value: " + d);
      }).on("mouseout",function(){d3.select("#tooltip").style("opacity",0)});
    
    d3.select("svg").append("g").attr("transform","translate(50,50)").call(d3.axisLeft(yScale))
    d3.select("svg").append("g").attr("transform","translate(50,150)").call(d3.axisBottom(xScale))

    var count = 1

    function next(){
      d3.select("svg").selectAll("*").remove()
      if(count == 1){
        d3.select(".chart").append("g").attr("transform","translate("+50+","+50+")").selectAll("rect").data([20,40,20])
          .enter().append("rect").attr("width",50).attr("height",function(d){return d;}).attr("x",function(d,i){return 50*i;})
          .attr("y",function(d){return 100-d;}).attr("fill","red");
        count += 1
      } else {
        d3.select(".chart").append("g").attr("transform","translate("+50+","+50+")").selectAll("rect").data([40,20,40])
          .enter().append("rect").attr("width",50).attr("height",function(d){return d;}).attr("x",function(d,i){return 50*i;})
          .attr("y",function(d){return 100-d;}).attr("fill","blue");
        count -= 1
      }
      var xScale = d3.scaleBand().domain(["A","B","C"]).range([0,150])
      var yScale = d3.scaleLinear().domain([0,100]).range([100,0])
      d3.select("svg").append("g").attr("transform","translate(50,50)").call(d3.axisLeft(yScale))
      d3.select("svg").append("g").attr("transform","translate(50,150)").call(d3.axisBottom(xScale))
    }
    
  </script>
</body>
</html>


