<!DOCTYPE html>
<script src="https://d3js.org/d3.v4.min.js"></script>
<style>
#tooltip {
  opacity: 0;
  position: absolute;
  text-align: center;
  width: 50px;
  height: 50px;
  background: white;
  border: 2px;
}
</style>
<html>
<body>
  <p>hello!</p>
  <svg class="chart" width="1200" height="250">
  </svg>
  <button onclick="next()">Next</button>
  <div id="tooltip"></div>
  
  <script>

    var teams = ["Dodgers","Astros","Braves","Mets","Yankees","Cardinals","Guardians","Blue Jays","Mariners","Padres","Phillies","Brewers","Rays","Orioles","White Sox","Giants","Red Sox","Twins","Diamondbacks","Cubs","Angels","Marlins","Rockies","Rangers","Tigers","Royals","Reds","Pirates","Athletics","Nationals"]
    var data = [111,106,101,101,99,93,92,92,90,89,87,86,86,83,81,81,78,78,74,74,73,69,68,68,66,65,62,62,60,55]
    var xScale = d3.scaleBand().domain(teams).range([0,750])
    var yScale = d3.scaleLinear().domain([0,111]).range([111,0])
    d3.select(".chart").append("g").attr("transform","translate("+50+","+50+")").selectAll("rect").data(data)
      .enter().append("rect").attr("width",25).attr("height",function(d){return d;}).attr("x",function(d,i){return 25*i;})
      .attr("y",function(d){return 111-d;}).attr("fill","red").attr("style", "outline: thin solid black;")
      .on("mouseover",function(d){
        d3.select("#tooltip").style("opacity",1)
          .style("left",(d3.event.pageX)+"px")
          .style("top",(d3.event.pageY)+"px")
          .html("Value: " + d);
      }).on("mouseout",function(){d3.select("#tooltip").style("opacity",0)});
    
    d3.select("svg").append("g").attr("transform","translate(50,50)").call(d3.axisLeft(yScale))
    d3.select("svg").append("g").attr("transform","translate(50,161)").call(d3.axisBottom(xScale))
      .selectAll("text").style("text-anchor","end").attr("transform","rotate(-65)").attr("transform","translate(-10,0)");

    var count = 1

    function next(){
      d3.select("svg").selectAll("*").remove()
      if(count == 1){
        d3.select(".chart").append("g").attr("transform","translate("+50+","+50+")").selectAll("rect").data([20,40,20])
          .enter().append("rect").attr("width",50).attr("height",function(d){return d;}).attr("x",function(d,i){return 50*i;})
          .attr("y",function(d){return 100-d;}).attr("fill","red");
        count += 1
      } else {
        d3.select(".chart").append("g").attr("transform","translate("+50+","+50+")").selectAll("rect").data([40,20,40])
          .enter().append("rect").attr("width",50).attr("height",function(d){return d;}).attr("x",function(d,i){return 50*i;})
          .attr("y",function(d){return 100-d;}).attr("fill","blue");
        count -= 1
      }
      var xScale = d3.scaleBand().domain(["A","B","C"]).range([0,150])
      var yScale = d3.scaleLinear().domain([0,100]).range([100,0])
      d3.select("svg").append("g").attr("transform","translate(50,50)").call(d3.axisLeft(yScale))
      d3.select("svg").append("g").attr("transform","translate(50,150)").call(d3.axisBottom(xScale))
    }
    
  </script>
</body>
</html>


